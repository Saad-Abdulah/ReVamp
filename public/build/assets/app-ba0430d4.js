import{a as ze,d as ge,r as S,c as L,o as f,b as h,n as G,e as de,f as z,g as e,t as _,h as T,m as Me,i as v,j as q,k as be,l as ce,w as b,p as fe,q as ue,v as Ee,u as ae,s as O,x as le,F as te,y as se,z as Be,A as Ue,B as De,C as Ie,D as je,E as Le,G as Pe,H as Ae,I as Ve,T as Ne,J as Fe,K as ne,L as Re}from"./vendor-9ad04c6e.js";import{t as Ge,i as qe,b as _e,B as Q,D as Oe}from"./pdfme-04f4a44a.js";const He="modulepreload",We=function(s){return"/build/"+s},ke={},$e=function(o,a,l){if(!a||a.length===0)return o();const u=document.getElementsByTagName("link");return Promise.all(a.map(n=>{if(n=We(n),n in ke)return;ke[n]=!0;const $=n.endsWith(".css"),d=$?'[rel="stylesheet"]':"";if(!!l)for(let r=u.length-1;r>=0;r--){const y=u[r];if(y.href===n&&(!$||y.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${n}"]${d}`))return;const i=document.createElement("link");if(i.rel=$?"stylesheet":He,$||(i.as="script",i.crossOrigin=""),i.href=n,document.head.appendChild(i),$)return new Promise((r,y)=>{i.addEventListener("load",r),i.addEventListener("error",()=>y(new Error(`Unable to preload CSS for ${n}`)))})})).then(()=>o()).catch(n=>{const $=new Event("vite:preloadError",{cancelable:!0});if($.payload=n,window.dispatchEvent($),!$.defaultPrevented)throw n})},ee=ze.create({baseURL:"/api",timeout:3e4,headers:{"Content-Type":"application/json",Accept:"application/json"}});ee.interceptors.request.use(s=>{const o=localStorage.getItem("auth_token");return o&&(s.headers.Authorization=`Bearer ${o}`),s},s=>Promise.reject(s));ee.interceptors.response.use(s=>s,s=>{var l,u,n,$,d;((l=s.response)==null?void 0:l.status)===401&&(localStorage.removeItem("auth_token"),window.location.href="/login");const o=((n=(u=s.response)==null?void 0:u.data)==null?void 0:n.message)||s.message||"An error occurred",a=new Error(o);return a.status=($=s.response)==null?void 0:$.status,a.data=(d=s.response)==null?void 0:d.data,a.originalError=s,Promise.reject(a)});let A=[],R=[],pe=1,ve=1,he=1;const Ke=()=>{try{const s=localStorage.getItem("pdf_mock_templates"),o=localStorage.getItem("pdf_mock_generated");if(s){const a=JSON.parse(s);A.length=0,A.push(...a),A.length>0&&(ve=Math.max(...A.map(l=>l.id))+1)}if(o){const l=JSON.parse(o).filter(u=>u.download_url&&!u.download_url.startsWith("blob:"));R.length=0,R.push(...l),R.length>0&&(he=Math.max(...R.map(u=>u.id))+1)}console.log("Mock data loaded:",{templates:A.length,generated:R.length})}catch(s){console.error("Error loading mock data:",s)}},re=()=>{try{const s=R.map(o=>o.download_url.startsWith("blob:")?{...o,download_url:null}:o);localStorage.setItem("pdf_mock_templates",JSON.stringify(A)),localStorage.setItem("pdf_mock_generated",JSON.stringify(s)),console.log("Mock data saved")}catch(s){console.error("Error saving mock data:",s)}};Ke();const Je=()=>{try{localStorage.removeItem("mockTemplates"),localStorage.removeItem("mockGeneratedPdfs"),A=[],R=[],ve=1,he=1,console.log("Mock data cleared successfully")}catch(s){console.error("Error clearing mock data:",s)}};typeof window<"u"&&(window.clearPdfMockData=Je,console.log("Use window.clearPdfMockData() in console to clear all mock data"));const N={login:async s=>{const o="mock_token_"+Date.now();return localStorage.setItem("auth_token",o),{data:{token:o,user:{id:pe,name:"Test User",email:s.email}}}},register:async s=>{const o="mock_token_"+Date.now();return localStorage.setItem("auth_token",o),{data:{token:o,user:{id:pe,name:s.name,email:s.email}}}},logout:async()=>(localStorage.removeItem("auth_token"),{data:{message:"Logged out successfully"}}),getUser:async()=>({data:{user:{id:pe,name:"Test User",email:"test@example.com"}}}),getTemplates:async()=>({data:{templates:A}}),getTemplate:async s=>{const o=A.find(a=>a.id===parseInt(s));if(!o)throw new Error("Template not found");return{data:{template:o}}},uploadTemplate:async s=>{const o=s.get("pdf_file");let a="";o&&o.size>0&&(a=await new Promise(u=>{const n=new FileReader;n.onload=()=>u(n.result),n.readAsDataURL(o)}));const l={id:ve++,name:s.get("name"),description:s.get("description")||"",original_filename:(o==null?void 0:o.name)||"template.pdf",pdf_url:a,fields_config:[],fields_count:0,created_at:new Date().toISOString(),updated_at:new Date().toISOString()};return A.unshift(l),re(),{data:{template:l}}},updateTemplateFields:async(s,o)=>{const a=A.find(u=>u.id===parseInt(s));if(!a)throw new Error("Template not found");console.log("Mock API: Updating template fields for ID:",s,"with data:",o);const l=o.fields_config||[];return a.fields_config=l,a.fields_count=l.length,a.updated_at=new Date().toISOString(),re(),console.log("Mock API: Template updated successfully with",l.length,"fields"),{data:{template:{...a,fields_config:l,fields_count:l.length}}}},deleteTemplate:async s=>{const o=A.findIndex(a=>a.id===parseInt(s));if(o===-1)throw new Error("Template not found");return A.splice(o,1),re(),{data:{message:"Template deleted successfully"}}},generatePdf:async(s,o)=>{console.log("Mock API: Starting PDF generation..."),console.log("Template ID:",s),console.log("Generation data:",o);const a=A.find(l=>l.id===parseInt(s));if(!a)throw new Error("Template not found");if(console.log("Found template:",a.name),console.log("Template fields config:",a.fields_config),!a.pdf_url)throw console.error("Template has no PDF URL"),new Error("Template has no PDF file attached");(!a.fields_config||a.fields_config.length===0)&&console.warn("Template has no fields configured");try{console.log("Importing @pdfme libraries...");const{generate:l}=await $e(()=>import("./pdfme-04f4a44a.js").then(P=>P.c),[]),{text:u,image:n,barcodes:$}=await $e(()=>import("./pdfme-04f4a44a.js").then(P=>P.a),[]);console.log("@pdfme libraries imported successfully");let d=a.pdf_url;if(console.log("Original PDF URL:",d),d.startsWith("data:application/pdf;base64,"))console.log("PDF is already in base64 format");else{console.log("Converting PDF URL to base64...");const P=await fetch(d);if(!P.ok)throw new Error(`Failed to fetch template PDF: ${P.status}`);const k=await(await P.blob()).arrayBuffer(),m=new Uint8Array(k),p=btoa(String.fromCharCode.apply(null,m));d=`data:application/pdf;base64,${p}`,console.log("PDF converted to base64, length:",p.length)}const g={basePdf:d,schemas:[{}]};a.fields_config&&a.fields_config.length>0&&(console.log("Processing fields config..."),a.fields_config.forEach(P=>{console.log("Processing field:",P.name,P),g.schemas[0][P.name]={type:P.type||"text",position:P.position,width:P.width,height:P.height,fontSize:P.fontSize||12,fontColor:P.fontColor||"#000000",...P.options&&{options:P.options}}})),console.log("Final template schema:",g.schemas[0]),console.log("Input data for generation:",o.data);const i={text:u,image:n,...$};console.log("Calling @pdfme/generator.generate...");const r=await l({template:g,inputs:[o.data],plugins:i});console.log("PDF generated successfully, size:",r.length,"bytes");const y=new Blob([r],{type:"application/pdf"}),x=URL.createObjectURL(y);console.log("Created blob URL:",x);const C={id:he++,filename:o.filename||`generated_${Date.now()}.pdf`,template_name:a.name,download_url:x,file_size:`${Math.round(r.length/1024)} KB`,status:"completed",created_at:new Date().toISOString(),data_used:o.data};return R.unshift(C),re(),console.log("Mock API: PDF generated successfully:",C),{data:{generated_pdf:C,message:"PDF generated successfully"}}}catch(l){throw console.error("PDF generation error:",l),console.error("Error stack:",l.stack),new Error(`PDF generation failed: ${l.message}`)}},getGeneratedPdfs:async()=>({data:{generated_pdfs:R,pagination:{current_page:1,last_page:1,per_page:20,total:R.length}}})},ie=()=>!window.location.hostname.includes("production")&&(window.location.hostname==="localhost"||window.location.hostname==="127.0.0.1"),j={get:async(s,o)=>{if(ie()){if(console.log("Using mock API for GET:",s),s==="/templates")return N.getTemplates();if(s.match(/\/templates\/\d+$/)){const a=s.split("/").pop();return N.getTemplate(a)}else{if(s==="/auth/user")return N.getUser();if(s==="/generate")return N.getGeneratedPdfs()}console.warn("Unhandled mock GET endpoint:",s)}return ee.get(s,o)},post:async(s,o,a)=>{if(ie()){if(console.log("Using mock API for POST:",s,o),s==="/auth/login")return N.login(o);if(s==="/auth/register")return N.register(o);if(s==="/auth/logout")return N.logout();if(s==="/templates")return N.uploadTemplate(o);if(s.match(/\/generate\/\d+$/)){const l=s.split("/").pop();return N.generatePdf(l,o)}console.warn("Unhandled mock POST endpoint:",s)}return ee.post(s,o,a)},put:async(s,o,a)=>{if(ie()){if(console.log("Using mock API for PUT:",s,o),s.match(/\/templates\/\d+\/fields$/)){const l=s.split("/")[2];return N.updateTemplateFields(l,o)}console.warn("Unhandled mock PUT endpoint:",s)}return ee.put(s,o,a)},delete:async(s,o)=>{if(ie()){if(console.log("Using mock API for DELETE:",s),s.match(/\/templates\/\d+$/)){const a=s.split("/").pop();return N.deleteTemplate(a)}console.warn("Unhandled mock DELETE endpoint:",s)}return ee.delete(s,o)}},ye=ge("auth",()=>{const s=S(null),o=S(localStorage.getItem("auth_token")),a=S(!1),l=S(!0),u=L(()=>(l.value||!!o.value)&&!!s.value),n=async y=>{var x,C;a.value=!0;try{if(l.value)return await new Promise(m=>setTimeout(m,1e3)),s.value={id:1,name:"Demo User",email:y.email},o.value="demo-token",localStorage.setItem("auth_token","demo-token"),{success:!0,user:s.value};const P=await j.post("/auth/login",y),{user:B,token:k}=P.data;return s.value=B,o.value=k,localStorage.setItem("auth_token",k),j.defaults.headers.common.Authorization=`Bearer ${k}`,{success:!0,user:B}}catch(P){if(l.value)throw new Error("Invalid demo credentials. Try any email and password.");const B=((C=(x=P.response)==null?void 0:x.data)==null?void 0:C.message)||"Login failed";throw new Error(B)}finally{a.value=!1}},$=async y=>{var x,C;a.value=!0;try{if(l.value)return await new Promise(m=>setTimeout(m,1e3)),s.value={id:1,name:y.name,email:y.email},o.value="demo-token",localStorage.setItem("auth_token","demo-token"),{success:!0,user:s.value};const P=await j.post("/auth/register",y),{user:B,token:k}=P.data;return s.value=B,o.value=k,localStorage.setItem("auth_token",k),j.defaults.headers.common.Authorization=`Bearer ${k}`,{success:!0,user:B}}catch(P){if(l.value)throw new Error("Demo registration failed. Please try again.");const B=((C=(x=P.response)==null?void 0:x.data)==null?void 0:C.message)||"Registration failed";throw new Error(B)}finally{a.value=!1}},d=async()=>{try{!l.value&&o.value&&await j.post("/auth/logout")}catch(y){console.error("Logout error:",y)}finally{s.value=null,o.value=null,localStorage.removeItem("auth_token"),delete j.defaults.headers.common.Authorization}},g=async()=>{if(!o.value)throw new Error("No token available");try{if(l.value){if(o.value==="demo-token")return s.value={id:1,name:"Demo User",email:"demo@example.com"},s.value;throw new Error("Invalid demo token")}j.defaults.headers.common.Authorization=`Bearer ${o.value}`;const y=await j.get("/auth/user");return s.value=y.data,y.data}catch(y){throw s.value=null,o.value=null,localStorage.removeItem("auth_token"),delete j.defaults.headers.common.Authorization,y}};return{user:s,token:o,loading:a,demoMode:l,isAuthenticated:u,login:n,register:$,logout:d,fetchUser:g,updateUser:y=>{s.value={...s.value,...y}},initialize:async()=>{if(o.value)try{await g()}catch(y){console.error("Failed to initialize auth:",y)}}}}),oe=ge("notifications",()=>{const s=S([]),o=g=>{const i=Date.now()+Math.random(),r={id:i,type:"info",title:"",message:"",duration:5e3,...g};return s.value.push(r),r.duration>0&&setTimeout(()=>{a(i)},r.duration),i},a=g=>{const i=s.value.findIndex(r=>r.id===g);i>-1&&s.value.splice(i,1)};return{notifications:s,add:o,remove:a,clear:()=>{s.value=[]},success:(g,i="",r={})=>o({type:"success",title:g,message:i,...r}),error:(g,i="",r={})=>o({type:"error",title:g,message:i,duration:0,...r}),warning:(g,i="",r={})=>o({type:"warning",title:g,message:i,...r}),info:(g,i="",r={})=>o({type:"info",title:g,message:i,...r})}}),Ye={key:0,class:"text-lg font-medium text-gray-900"},Qe={key:1,class:"card-footer"},V={__name:"BaseCard",props:{title:{type:String,default:""},variant:{type:String,default:"default",validator:s=>["default","bordered","shadow"].includes(s)},padding:{type:String,default:"default",validator:s=>["none","sm","default","lg"].includes(s)}},setup(s){const o=s,a=L(()=>{const n=["card"];return o.variant==="bordered"?n.push("border-2"):o.variant==="shadow"&&n.push("shadow-lg"),n.join(" ")}),l=L(()=>"card-header"),u=L(()=>{const n=[];switch(o.padding){case"none":break;case"sm":n.push("p-4");break;case"lg":n.push("p-8");break;default:n.push("card-body")}return n.join(" ")});return(n,$)=>(f(),h("div",{class:G(a.value)},[n.$slots.header||s.title?(f(),h("div",{key:0,class:G(l.value)},[de(n.$slots,"header",{},()=>[s.title?(f(),h("h3",Ye,_(s.title),1)):z("",!0)])],2)):z("",!0),e("div",{class:G(u.value)},[de(n.$slots,"default")],2),n.$slots.footer?(f(),h("div",Qe,[de(n.$slots,"footer")])):z("",!0)],2))}},Z={__name:"LoadingSpinner",props:{size:{type:String,default:"md",validator:s=>["sm","md","lg"].includes(s)},color:{type:String,default:"current"}},setup(s){const o=s,a=L(()=>{const l=["loading-spinner"];switch(o.size){case"sm":l.push("h-3 w-3");break;case"md":l.push("h-4 w-4");break;case"lg":l.push("h-6 w-6");break}return o.color!=="current"&&l.push(`border-${o.color}-600`),l.join(" ")});return(l,u)=>(f(),h("div",{class:G(a.value)},null,2))}},Xe={class:"form-group"},Ze=["for"],et={key:0,class:"text-red-500"},tt={class:"relative"},st=["id","type","value","placeholder","disabled","required"],ot={key:0,class:"absolute inset-y-0 right-0 flex items-center pr-3"},at={key:1,class:"error-text"},lt={key:2,class:"text-sm text-gray-500 mt-1"},X={__name:"BaseInput",props:{id:{type:String,default:()=>`input-${Math.random().toString(36).substr(2,9)}`},type:{type:String,default:"text"},modelValue:{type:[String,Number],default:""},label:{type:String,default:""},placeholder:{type:String,default:""},error:{type:String,default:""},hint:{type:String,default:""},disabled:{type:Boolean,default:!1},required:{type:Boolean,default:!1},loading:{type:Boolean,default:!1}},emits:["update:modelValue","blur","focus"],setup(s){const o=s,a=L(()=>{const l=["input"];return o.error&&l.push("input-error"),o.disabled&&l.push("opacity-50 cursor-not-allowed"),l.join(" ")});return(l,u)=>(f(),h("div",Xe,[s.label?(f(),h("label",{key:0,for:s.id,class:"label"},[T(_(s.label)+" ",1),s.required?(f(),h("span",et,"*")):z("",!0)],8,Ze)):z("",!0),e("div",tt,[e("input",Me({id:s.id,type:s.type,value:s.modelValue,placeholder:s.placeholder,disabled:s.disabled,required:s.required,class:a.value},l.$attrs,{onInput:u[0]||(u[0]=n=>l.$emit("update:modelValue",n.target.value)),onBlur:u[1]||(u[1]=n=>l.$emit("blur",n)),onFocus:u[2]||(u[2]=n=>l.$emit("focus",n))}),null,16,st),s.loading?(f(),h("div",ot,[v(Z,{size:"sm"})])):z("",!0)]),s.error?(f(),h("p",at,_(s.error),1)):s.hint?(f(),h("p",lt,_(s.hint),1)):z("",!0)]))}},nt=["type","disabled"],E={__name:"BaseButton",props:{variant:{type:String,default:"primary",validator:s=>["primary","secondary","danger","success","warning"].includes(s)},size:{type:String,default:"md",validator:s=>["sm","md","lg"].includes(s)},type:{type:String,default:"button"},disabled:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},block:{type:Boolean,default:!1}},emits:["click"],setup(s){const o=s,a=L(()=>{const l=["btn"];switch(o.variant){case"primary":l.push("btn-primary");break;case"secondary":l.push("btn-secondary");break;case"danger":l.push("btn-danger");break;case"success":l.push("bg-green-600 text-white hover:bg-green-700 focus:ring-green-500");break;case"warning":l.push("bg-yellow-600 text-white hover:bg-yellow-700 focus:ring-yellow-500");break}switch(o.size){case"sm":l.push("btn-sm");break;case"lg":l.push("btn-lg");break}return o.block&&l.push("w-full"),l.join(" ")});return(l,u)=>(f(),h("button",{type:s.type,disabled:s.disabled||s.loading,class:G(a.value),onClick:u[0]||(u[0]=n=>l.$emit("click",n))},[s.loading?(f(),q(Z,{key:0,class:"mr-2"})):z("",!0),de(l.$slots,"default")],10,nt))}},rt={class:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8"},it={class:"max-w-md w-full space-y-8"},dt={class:"flex items-center justify-between"},ct={class:"flex items-center"},ut={class:"mt-6"},mt={class:"mt-6"},pt={__name:"Login",setup(s){const o=ae(),a=ye(),l=oe(),u=S(!1),n=be({email:"",password:"",remember:!1}),$=be({email:"",password:""}),d=()=>{$.email="",$.password=""},g=async()=>{var i;d(),u.value=!0;try{await a.login({email:n.email,password:n.password}),l.success("Welcome back!","You have been logged in successfully."),o.push("/dashboard")}catch(r){l.error("Login failed",r.message),(i=r.data)!=null&&i.errors&&Object.assign($,r.data.errors)}finally{u.value=!1}};return(i,r)=>{const y=O("router-link");return f(),h("div",rt,[e("div",it,[r[8]||(r[8]=ce('<div><div class="mx-auto h-12 w-12 flex items-center justify-center rounded-full bg-primary-100"><svg class="h-8 w-8 text-primary-600" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"></path></svg></div><h2 class="mt-6 text-center text-3xl font-extrabold text-gray-900"> Sign in to your account </h2><p class="mt-2 text-center text-sm text-gray-600"> Access the PDF Template Designer </p></div>',1)),v(V,null,{default:b(()=>[e("form",{onSubmit:fe(g,["prevent"]),class:"space-y-6"},[v(X,{modelValue:n.email,"onUpdate:modelValue":r[0]||(r[0]=x=>n.email=x),type:"email",label:"Email address",placeholder:"Enter your email",required:"",error:$.email},null,8,["modelValue","error"]),v(X,{modelValue:n.password,"onUpdate:modelValue":r[1]||(r[1]=x=>n.password=x),type:"password",label:"Password",placeholder:"Enter your password",required:"",error:$.password},null,8,["modelValue","error"]),e("div",dt,[e("div",ct,[ue(e("input",{id:"remember-me","onUpdate:modelValue":r[2]||(r[2]=x=>n.remember=x),type:"checkbox",class:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded"},null,512),[[Ee,n.remember]]),r[3]||(r[3]=e("label",{for:"remember-me",class:"ml-2 block text-sm text-gray-900"}," Remember me ",-1))]),r[4]||(r[4]=e("div",{class:"text-sm"},[e("a",{href:"#",class:"font-medium text-primary-600 hover:text-primary-500"}," Forgot your password? ")],-1))]),v(E,{type:"submit",loading:u.value,block:"",class:"mt-6"},{default:b(()=>[...r[5]||(r[5]=[T(" Sign in ",-1)])]),_:1},8,["loading"])],32),e("div",ut,[r[7]||(r[7]=e("div",{class:"relative"},[e("div",{class:"absolute inset-0 flex items-center"},[e("div",{class:"w-full border-t border-gray-300"})]),e("div",{class:"relative flex justify-center text-sm"},[e("span",{class:"px-2 bg-white text-gray-500"},"Don't have an account?")])],-1)),e("div",mt,[v(y,{to:"/register",class:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-primary-600 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 border-gray-300"},{default:b(()=>[...r[6]||(r[6]=[T(" Create new account ",-1)])]),_:1})])])]),_:1})])])}}},ft={class:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8"},gt={class:"max-w-md w-full space-y-8"},vt={class:"text-center py-8"},ht={__name:"Register",setup(s){return(o,a)=>{const l=O("router-link");return f(),h("div",ft,[e("div",gt,[a[3]||(a[3]=ce('<div><div class="mx-auto h-12 w-12 flex items-center justify-center rounded-full bg-primary-100"><svg class="h-8 w-8 text-primary-600" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M18 9v3m0 0v3m0-3h3m-3 0h-3m-2-5a4 4 0 11-8 0 4 4 0 018 0zM3 20a6 6 0 0112 0v1H3v-1z"></path></svg></div><h2 class="mt-6 text-center text-3xl font-extrabold text-gray-900"> Create your account </h2><p class="mt-2 text-center text-sm text-gray-600"> Join the PDF Template Designer </p></div>',1)),v(V,null,{default:b(()=>[e("div",vt,[a[1]||(a[1]=e("h3",{class:"text-lg font-medium text-gray-900 mb-4"},"Registration Coming Soon",-1)),a[2]||(a[2]=e("p",{class:"text-gray-600 mb-6"}," The registration feature is currently under development. ",-1)),v(l,{to:"/login",class:"text-primary-600 hover:text-primary-500 font-medium"},{default:b(()=>[...a[0]||(a[0]=[T(" ← Back to Login ",-1)])]),_:1})])]),_:1})])])}}},yt={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8"},xt={class:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8"},wt={class:"flex items-center"},bt={class:"ml-5 w-0 flex-1"},_t={class:"text-lg font-medium text-gray-900"},kt={class:"flex items-center"},$t={class:"ml-5 w-0 flex-1"},Dt={class:"text-lg font-medium text-gray-900"},Pt={class:"flex items-center"},Ft={class:"ml-5 w-0 flex-1"},Ct={class:"text-lg font-medium text-gray-900"},St={class:"grid grid-cols-1 lg:grid-cols-2 gap-8"},Tt={class:"space-y-4"},zt={class:"space-y-4"},Mt={class:"text-center"},Et={__name:"Dashboard",setup(s){const o=oe(),a=S({templates:0,generated:0,thisMonth:0}),l=()=>{o.info("Feature Coming Soon!","The guided tour feature will be available in the next update.")};return le(()=>{setTimeout(()=>{a.value={templates:0,generated:0,thisMonth:0}},500)}),(u,n)=>{const $=O("router-link");return f(),h("div",yt,[n[11]||(n[11]=e("div",{class:"mb-8"},[e("h1",{class:"text-2xl font-bold text-gray-900"},"Dashboard"),e("p",{class:"mt-1 text-sm text-gray-600"}," Welcome to the PDF Template Designer & Generator ")],-1)),e("div",xt,[v(V,null,{default:b(()=>[e("div",wt,[n[1]||(n[1]=e("div",{class:"flex-shrink-0"},[e("div",{class:"h-8 w-8 bg-primary-500 rounded-md flex items-center justify-center"},[e("svg",{class:"h-5 w-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})])])],-1)),e("div",bt,[e("dl",null,[n[0]||(n[0]=e("dt",{class:"text-sm font-medium text-gray-500 truncate"}," Templates ",-1)),e("dd",_t,_(a.value.templates||0),1)])])])]),_:1}),v(V,null,{default:b(()=>[e("div",kt,[n[3]||(n[3]=e("div",{class:"flex-shrink-0"},[e("div",{class:"h-8 w-8 bg-green-500 rounded-md flex items-center justify-center"},[e("svg",{class:"h-5 w-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})])])],-1)),e("div",$t,[e("dl",null,[n[2]||(n[2]=e("dt",{class:"text-sm font-medium text-gray-500 truncate"}," Generated PDFs ",-1)),e("dd",Dt,_(a.value.generated||0),1)])])])]),_:1}),v(V,null,{default:b(()=>[e("div",Pt,[n[5]||(n[5]=e("div",{class:"flex-shrink-0"},[e("div",{class:"h-8 w-8 bg-blue-500 rounded-md flex items-center justify-center"},[e("svg",{class:"h-5 w-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 10V3L4 14h7v7l9-11h-7z"})])])],-1)),e("div",Ft,[e("dl",null,[n[4]||(n[4]=e("dt",{class:"text-sm font-medium text-gray-500 truncate"}," This Month ",-1)),e("dd",Ct,_(a.value.thisMonth||0),1)])])])]),_:1})]),e("div",St,[v(V,{title:"Quick Actions"},{default:b(()=>[e("div",Tt,[v($,{to:"/templates",class:"flex items-center p-4 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors duration-200"},{default:b(()=>[...n[6]||(n[6]=[e("div",{class:"flex-shrink-0"},[e("svg",{class:"h-6 w-6 text-primary-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M9 19l3 3m0 0l3-3m-3 3V10"})])],-1),e("div",{class:"ml-4"},[e("h4",{class:"text-sm font-medium text-gray-900"},"Upload New Template"),e("p",{class:"text-sm text-gray-500"},"Upload a PDF and start designing")],-1)])]),_:1}),v($,{to:"/templates",class:"flex items-center p-4 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors duration-200"},{default:b(()=>[...n[7]||(n[7]=[e("div",{class:"flex-shrink-0"},[e("svg",{class:"h-6 w-6 text-primary-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})])],-1),e("div",{class:"ml-4"},[e("h4",{class:"text-sm font-medium text-gray-900"},"Manage Templates"),e("p",{class:"text-sm text-gray-500"},"View and edit your templates")],-1)])]),_:1}),v($,{to:"/generated",class:"flex items-center p-4 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors duration-200"},{default:b(()=>[...n[8]||(n[8]=[e("div",{class:"flex-shrink-0"},[e("svg",{class:"h-6 w-6 text-primary-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})])],-1),e("div",{class:"ml-4"},[e("h4",{class:"text-sm font-medium text-gray-900"},"Generated PDFs"),e("p",{class:"text-sm text-gray-500"},"View and download your PDFs")],-1)])]),_:1})])]),_:1}),v(V,{title:"Getting Started"},{default:b(()=>[e("div",zt,[n[10]||(n[10]=e("div",{class:"bg-blue-50 border border-blue-200 rounded-lg p-4"},[e("h3",{class:"text-sm font-medium text-blue-900 mb-2"},"Welcome to PDF Designer!"),e("p",{class:"text-sm text-blue-700 mb-3"}," Create professional PDF templates with our intuitive drag-and-drop interface. "),e("ol",{class:"text-sm text-blue-700 space-y-1 list-decimal list-inside"},[e("li",null,"Upload your PDF template"),e("li",null,"Add dynamic fields with drag & drop"),e("li",null,"Save your template for reuse"),e("li",null,"Generate PDFs with custom data")])],-1)),e("div",Mt,[v(E,{variant:"primary",onClick:l},{default:b(()=>[...n[9]||(n[9]=[e("svg",{class:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M14.828 14.828a4 4 0 01-5.656 0M9 10h1m4 0h1m-6 4h8m2-10h.01M5 8h.01M12 2C6.477 2 2 6.477 2 12s4.477 10 10 10 10-4.477 10-10S17.523 2 12 2z"})],-1),T(" Take a Tour ",-1)])]),_:1})])])]),_:1})])])}}},Ce=ge("templates",()=>{const s=S([]),o=S(!1),a=S(null);return{templates:s,loading:o,currentTemplate:a,fetchTemplates:async()=>{o.value=!0;try{const i=await j.get("/templates");return s.value=i.data.templates,s.value}catch(i){throw console.error("Failed to fetch templates:",i),i}finally{o.value=!1}},getTemplate:async i=>{try{const r=await j.get(`/templates/${i}`);return a.value=r.data.template,r.data.template}catch(r){throw console.error("Failed to get template:",r),r}},uploadTemplate:async i=>{o.value=!0;try{const r=await j.post("/templates",i,{headers:{"Content-Type":"multipart/form-data"}});return r.data.template&&s.value.unshift(r.data.template),r.data.template}catch(r){throw console.error("Failed to upload template:",r),r}finally{o.value=!1}},updateTemplateFields:async(i,r)=>{var y;try{console.log("Updating template fields for ID:",i,"with data:",r);const x=r.fields_config||r,C=await j.put(`/templates/${i}/fields`,{fields_config:x}),P=s.value.findIndex(B=>B.id===parseInt(i));return P>-1&&(s.value[P]={...s.value[P],...C.data.template,fields_config:x,fields_count:x.length,updated_at:new Date().toISOString()}),((y=a.value)==null?void 0:y.id)===parseInt(i)&&(a.value={...a.value,...C.data.template,fields_config:x,fields_count:x.length,updated_at:new Date().toISOString()}),console.log("Template fields updated successfully"),C.data.template}catch(x){throw console.error("Failed to update template fields:",x),x}},deleteTemplate:async i=>{try{await j.delete(`/templates/${i}`);const r=s.value.findIndex(y=>y.id===parseInt(i));return r>-1&&s.value.splice(r,1),!0}catch(r){throw console.error("Failed to delete template:",r),r}},generatePdf:async(i,r)=>{try{if(console.log("Generating PDF for template ID:",i,"with data:",r),!s.value.find(C=>C.id===parseInt(i)))throw console.error("Template not found for ID:",i),new Error(`Template with ID ${i} not found`);const x=await j.post(`/generate/${i}`,r);if(!x.data||!x.data.generated_pdf)throw console.error("Invalid response from PDF generation:",x),new Error("Invalid response from PDF generation service");return console.log("PDF generated successfully:",x.data.generated_pdf),x.data.generated_pdf}catch(y){throw console.error("Failed to generate PDF:",y),y}}}}),Bt={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8"},Ut={class:"flex justify-between items-center mb-8"},It={key:0,class:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50"},jt={class:"relative top-20 mx-auto p-5 border w-96 shadow-lg rounded-md bg-white"},Lt={class:"mt-3"},At={key:0,class:"text-sm text-green-600 mt-1"},Vt={class:"flex justify-end space-x-3 mt-6"},Nt={key:1,class:"text-center py-12"},Rt={key:2,class:"text-center py-12"},Gt={key:3,class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"},qt={class:"p-6"},Ot={class:"flex items-center justify-between mb-4"},Ht={class:"flex items-center"},Wt={class:"ml-3"},Kt={class:"text-lg font-medium text-gray-900"},Jt={class:"text-sm text-gray-500"},Yt={class:"relative"},Qt=["onClick"],Xt={key:0,class:"absolute right-0 mt-2 w-48 bg-white rounded-md shadow-lg z-10 border"},Zt=["onClick"],es=["onClick"],ts={class:"space-y-2"},ss={key:0,class:"text-sm text-gray-600"},os={class:"flex items-center justify-between text-sm text-gray-500"},as={class:"mt-4 flex space-x-2"},ls=["onClick"],ns={key:4,class:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50"},rs={class:"relative top-20 mx-auto p-5 border w-96 shadow-lg rounded-md bg-white"},is={class:"mt-3"},ds={class:"text-lg font-medium text-gray-900 mb-4"},cs={class:"flex justify-end space-x-3 mt-6"},us={__name:"Templates",setup(s){const o=ae(),a=Ce(),l=oe(),u=S(!1),n=S(!1),$=S(!1),d=S(!1),g=S(null),i=S(null),r=S(null),y=S({name:"",description:""}),x=S({}),C=L(()=>a.templates),P=L(()=>a.loading),B=t=>{const c=t.target.files[0];if(c){if(c.size>10*1024*1024){l.error("File too large","Please select a PDF file smaller than 10MB"),t.target.value="";return}if(c.type!=="application/pdf"){l.error("Invalid file type","Please select a PDF file"),t.target.value="";return}g.value=c}},k=async()=>{if(g.value){$.value=!0;try{const t=new FormData;t.append("pdf_file",g.value),t.append("name",y.value.name),t.append("description",y.value.description);const c=await a.uploadTemplate(t);await a.fetchTemplates(),l.success("Template uploaded!","Your PDF template has been uploaded successfully"),m()}catch(t){console.error("Upload failed:",t),l.error("Upload failed",t.message)}finally{$.value=!1}}},m=()=>{u.value=!1,y.value={name:"",description:""},g.value=null,document.querySelector('input[type="file"]')&&(document.querySelector('input[type="file"]').value="")},p=t=>{i.value=i.value===t?null:t},D=t=>{var c;r.value=t,x.value={},(c=t.fields_config)==null||c.forEach(F=>{x.value[F.name]=""}),x.value.filename="",n.value=!0,i.value=null},U=async()=>{d.value=!0;try{const t={data:{...x.value},filename:x.value.filename||`${r.value.name}-${Date.now()}.pdf`};delete t.data.filename;const c=await a.generatePdf(r.value.id,t);l.success("PDF Generated!",`${t.filename} has been generated successfully`),J(),o.push("/generated")}catch(t){l.error("Generation failed",t.message)}finally{d.value=!1}},J=()=>{n.value=!1,r.value=null,x.value={}},H=async t=>{if(confirm(`Are you sure you want to delete "${t.name}"?`))try{await a.deleteTemplate(t.id),l.success("Template deleted","Template has been deleted successfully")}catch(c){l.error("Delete failed",c.message)}i.value=null},Y=t=>{if(t===0)return"0 Bytes";const c=1024,F=["Bytes","KB","MB","GB"],I=Math.floor(Math.log(t)/Math.log(c));return parseFloat((t/Math.pow(c,I)).toFixed(2))+" "+F[I]},me=t=>new Date(t).toLocaleDateString(),w=t=>{t.target.closest(".relative")||(i.value=null)};return le(async()=>{try{a.templates=[],await a.fetchTemplates(),console.log("Templates loaded:",a.templates.length)}catch(t){console.error("Error loading templates:",t),l.error("Failed to load templates",t.message)}document.addEventListener("click",w)}),(t,c)=>{var I,we;const F=O("router-link");return f(),h("div",Bt,[e("div",Ut,[c[7]||(c[7]=e("div",null,[e("h1",{class:"text-2xl font-bold text-gray-900"},"PDF Templates"),e("p",{class:"mt-1 text-sm text-gray-600"}," Upload, manage, and design your PDF templates ")],-1)),v(E,{onClick:c[0]||(c[0]=M=>u.value=!0),variant:"primary"},{default:b(()=>[...c[6]||(c[6]=[e("svg",{class:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M9 19l3 3m0 0l3-3m-3 3V10"})],-1),T(" Upload Template ",-1)])]),_:1})]),u.value?(f(),h("div",It,[e("div",jt,[e("div",Lt,[c[11]||(c[11]=e("h3",{class:"text-lg font-medium text-gray-900 mb-4"},"Upload PDF Template",-1)),e("form",{onSubmit:fe(k,["prevent"]),class:"space-y-4"},[v(X,{modelValue:y.value.name,"onUpdate:modelValue":c[1]||(c[1]=M=>y.value.name=M),label:"Template Name",placeholder:"Enter template name",required:""},null,8,["modelValue"]),v(X,{modelValue:y.value.description,"onUpdate:modelValue":c[2]||(c[2]=M=>y.value.description=M),label:"Description",placeholder:"Template description (optional)"},null,8,["modelValue"]),e("div",null,[c[8]||(c[8]=e("label",{class:"label"},"PDF File (Max 10MB)",-1)),e("input",{ref:"fileInput",type:"file",accept:".pdf",onChange:B,class:"input",required:""},null,544),g.value?(f(),h("p",At," Selected: "+_(g.value.name)+" ("+_(Y(g.value.size))+") ",1)):z("",!0)]),e("div",Vt,[v(E,{type:"button",variant:"secondary",onClick:m},{default:b(()=>[...c[9]||(c[9]=[T(" Cancel ",-1)])]),_:1}),v(E,{type:"submit",loading:$.value,disabled:!g.value},{default:b(()=>[...c[10]||(c[10]=[T(" Upload Template ",-1)])]),_:1},8,["loading","disabled"])])],32)])])])):z("",!0),P.value?(f(),h("div",Nt,[v(Z,{size:"lg"}),c[12]||(c[12]=e("p",{class:"mt-4 text-gray-600"},"Loading templates...",-1))])):C.value.length===0?(f(),h("div",Rt,[c[14]||(c[14]=e("svg",{class:"mx-auto h-12 w-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})],-1)),c[15]||(c[15]=e("h3",{class:"mt-4 text-lg font-medium text-gray-900"},"No templates yet",-1)),c[16]||(c[16]=e("p",{class:"mt-2 text-gray-600"},"Upload your first PDF template to get started",-1)),v(E,{onClick:c[3]||(c[3]=M=>u.value=!0),variant:"primary",class:"mt-4"},{default:b(()=>[...c[13]||(c[13]=[T(" Upload Template ",-1)])]),_:1})])):(f(),h("div",Gt,[(f(!0),h(te,null,se(C.value,M=>(f(),q(V,{key:M.id,class:"hover:shadow-lg transition-shadow duration-200"},{default:b(()=>[e("div",qt,[e("div",Ot,[e("div",Ht,[c[17]||(c[17]=e("div",{class:"h-10 w-10 bg-red-100 rounded-lg flex items-center justify-center"},[e("svg",{class:"h-6 w-6 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})])],-1)),e("div",Wt,[e("h3",Kt,_(M.name),1),e("p",Jt,_(M.original_filename),1)])]),e("div",Yt,[e("button",{onClick:W=>p(M.id),class:"text-gray-400 hover:text-gray-600 focus:outline-none"},[...c[18]||(c[18]=[e("svg",{class:"h-5 w-5",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{d:"M10 6a2 2 0 110-4 2 2 0 010 4zM10 12a2 2 0 110-4 2 2 0 010 4zM10 18a2 2 0 110-4 2 2 0 010 4z"})],-1)])],8,Qt),i.value===M.id?(f(),h("div",Xt,[v(F,{to:`/templates/${M.id}/edit`,class:"flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",onClick:c[4]||(c[4]=W=>i.value=null)},{default:b(()=>[...c[19]||(c[19]=[e("svg",{class:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})],-1),T(" Edit Template ",-1)])]),_:1},8,["to"]),e("button",{onClick:W=>D(M),class:"flex items-center w-full px-4 py-2 text-sm text-gray-700 hover:bg-gray-100"},[...c[20]||(c[20]=[e("svg",{class:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})],-1),T(" Generate PDF ",-1)])],8,Zt),e("button",{onClick:W=>H(M),class:"flex items-center w-full px-4 py-2 text-sm text-red-700 hover:bg-red-50"},[...c[21]||(c[21]=[e("svg",{class:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1),T(" Delete ",-1)])],8,es)])):z("",!0)])]),e("div",ts,[M.description?(f(),h("p",ss,_(M.description),1)):z("",!0),e("div",os,[e("span",null,_(M.fields_count)+" fields",1),e("span",null,_(me(M.updated_at)),1)])]),e("div",as,[v(F,{to:`/templates/${M.id}/edit`,class:"flex-1 btn btn-primary btn-sm text-center"},{default:b(()=>[...c[22]||(c[22]=[T(" Edit Template ",-1)])]),_:1},8,["to"]),e("button",{onClick:W=>D(M),class:"flex-1 btn btn-secondary btn-sm"}," Generate PDF ",8,ls)])])]),_:2},1024))),128))])),n.value?(f(),h("div",ns,[e("div",rs,[e("div",is,[e("h3",ds,"Generate PDF: "+_((I=r.value)==null?void 0:I.name),1),e("form",{onSubmit:fe(U,["prevent"]),class:"space-y-4"},[(f(!0),h(te,null,se((we=r.value)==null?void 0:we.fields_config,M=>(f(),h("div",{key:M.name,class:"space-y-2"},[v(X,{modelValue:x.value[M.name],"onUpdate:modelValue":W=>x.value[M.name]=W,label:M.name.replace(/_/g," ").replace(/\b\w/g,W=>W.toUpperCase()),placeholder:`Enter ${M.name.replace(/_/g," ")}`,required:""},null,8,["modelValue","onUpdate:modelValue","label","placeholder"])]))),128)),v(X,{modelValue:x.value.filename,"onUpdate:modelValue":c[5]||(c[5]=M=>x.value.filename=M),label:"Filename (optional)",placeholder:"generated-document.pdf"},null,8,["modelValue"]),e("div",cs,[v(E,{type:"button",variant:"secondary",onClick:J},{default:b(()=>[...c[23]||(c[23]=[T(" Cancel ",-1)])]),_:1}),v(E,{type:"submit",loading:d.value},{default:b(()=>[...c[24]||(c[24]=[T(" Generate PDF ",-1)])]),_:1},8,["loading"])])],32)])])])):z("",!0)])}}};const xe=(s,o)=>{const a=s.__vccOpts||s;for(const[l,u]of o)a[l]=u;return a},ms={class:"pdfme-editor-container"},ps={class:"flex items-center justify-between mb-4 p-4 bg-white rounded-lg shadow-sm border"},fs={class:"flex items-center space-x-4"},gs={key:0,class:"text-sm text-gray-500"},vs={class:"flex items-center space-x-3"},hs={class:"flex items-center space-x-2"},ys={class:"relative bg-white rounded-lg shadow-sm border overflow-hidden"},xs={key:0,class:"absolute inset-0 bg-white bg-opacity-90 flex items-center justify-center"},ws={class:"text-center"},bs={key:1,class:"absolute inset-0 bg-white bg-opacity-90 flex items-center justify-center"},_s={class:"text-center"},ks={class:"mt-2 text-gray-600"},$s={__name:"PdfmeEditor",props:{template:{type:Object,required:!0}},emits:["save","field-updated"],setup(s,{emit:o}){const a=s,l=o,u=S(null),n=S(null),$=S(!0),d=S(!1),g=S(""),i=S(""),r=S({basePdf:"",schemas:[{}]}),y={text:Ge,image:qe,qrcode:_e.qrcode,barcode:_e.code128},x=async()=>{try{if($.value=!0,g.value="",!a.template)throw new Error("No template provided");if(console.log("Template PDF URL:",a.template.pdf_url),a.template.pdf_url)try{const p=await C(a.template.pdf_url);console.log("PDF data received, type:",typeof p,"length:",(p==null?void 0:p.length)||0),p&&(p.startsWith("data:application/pdf;base64,")||p===Q)?(r.value.basePdf=p,console.log("Valid PDF data format, using for template")):(console.warn("Invalid PDF data format, using BLANK_PDF"),r.value.basePdf=Q)}catch(p){console.warn("Failed to load PDF, using BLANK_PDF:",p),r.value.basePdf=Q}else console.log("No PDF URL provided, using BLANK_PDF"),r.value.basePdf=Q;if(a.template.fields_config&&a.template.fields_config.length>0){const p={};a.template.fields_config.forEach(D=>{p[D.name]={type:D.type,position:D.position,width:D.width,height:D.height,...D.fontSize&&{fontSize:D.fontSize},...D.fontColor&&{fontColor:D.fontColor},...D.content&&{content:D.content}}}),r.value.schemas=[p]}else r.value.schemas=[{}];if(await Ie(),!u.value)throw new Error("Container not found");console.log("Initializing Designer with template:",{...r.value,basePdf:r.value.basePdf?"PDF_DATA_PRESENT":"NO_PDF_DATA"}),n.value=new Oe({domContainer:u.value,template:r.value,plugins:y,options:{theme:{token:{colorPrimary:"#3b82f6"}},lang:"en",labels:{"field.text":"Text","field.image":"Image","field.qrcode":"QR Code","field.barcode":"Barcode"}}});let m={...r.value};n.value.onChangeTemplate(p=>{console.log("Template changed"),r.value.basePdf=p.basePdf,r.value.schemas=[...p.schemas],m=p}),n.value.onFocusElement&&n.value.onFocusElement((p,D)=>{console.log("Field focused:",p,D)}),n.value.onBlurElement&&n.value.onBlurElement(()=>{console.log("Field blurred"),B()}),console.log("PDF Designer initialized successfully")}catch(m){console.error("Failed to initialize PDF designer:",m),g.value=m.message}finally{$.value=!1}},C=async m=>{try{if(m.startsWith("/demo-")||m.includes("demo"))return console.log("Using BLANK_PDF for demo template"),Q;if(m.startsWith("data:application/pdf;base64,"))return console.log("Using uploaded PDF data URL"),m;console.log("Fetching real PDF from:",m);const p=await fetch(m,{method:"GET",headers:{Accept:"application/pdf"},credentials:"same-origin"});if(!p.ok)return console.warn(`Failed to fetch PDF (${p.status}), using BLANK_PDF`),Q;const D=await p.blob();return console.log("PDF blob size:",D.size),new Promise((U,J)=>{const H=new FileReader;H.onload=()=>{const Y=H.result;console.log("PDF loaded successfully, size:",Y.length),U(Y)},H.onerror=()=>J(new Error("Failed to read PDF file")),H.readAsDataURL(D)})}catch(p){return console.error("Error fetching PDF:",p),console.log("Falling back to BLANK_PDF"),Q}},P=async()=>{if(!i.value||!n.value){console.log("Cannot add field: missing type or designer not ready");return}const m=`${i.value}_${Date.now()}`,p={type:i.value,position:{x:50,y:50+Object.keys(r.value.schemas[0]).length*40},width:i.value==="qrcode"||i.value==="barcode"?80:120,height:i.value==="qrcode"?80:i.value==="barcode"?40:30,required:!1,readOnly:!1,...i.value==="text"&&{fontSize:12,fontColor:"#000000",content:"Sample Text",fontName:"NotoSerifJP-Regular",alignment:"left"},...i.value==="qrcode"&&{content:"https://pdfme.com"},...i.value==="barcode"&&{content:"123456789"},...i.value==="image"&&{content:""}};console.log("Adding new field:",m,p);try{const D={basePdf:r.value.basePdf,schemas:[{...r.value.schemas[0]}]};D.schemas[0][m]=p,console.log("Updating template with new field"),n.value.updateTemplate(D),r.value=D,B(),i.value=""}catch(D){console.error("Error adding field:",D)}},B=()=>{if(!r.value.schemas[0])return;const m=Object.entries(r.value.schemas[0]).map(([p,D])=>({name:p,type:D.type,position:D.position,width:D.width,height:D.height,...D.fontSize&&{fontSize:D.fontSize},...D.fontColor&&{fontColor:D.fontColor},...D.content&&{content:D.content},...D.options&&{options:D.options}}));l("field-updated",m)},k=async()=>{d.value=!0;try{const m=n.value.getTemplate();if(console.log("Saving template with data:",m),!m||!m.schemas||!m.schemas[0])throw new Error("No template data available");const p=Object.entries(m.schemas[0]).map(([D,U])=>({name:D,type:U.type,position:U.position,width:U.width,height:U.height,...U.fontSize&&{fontSize:U.fontSize},...U.fontColor&&{fontColor:U.fontColor},...U.content&&{content:U.content},...U.options&&{options:U.options}}));console.log("Extracted fields config:",p),l("save",p),r.value=m}catch(m){console.error("Error saving template:",m),g.value=m.message}finally{d.value=!1}};return le(()=>{x()}),Be(()=>{if(n.value)try{n.value.destroy()}catch(m){console.warn("Error destroying designer:",m)}}),Ue(()=>a.template,()=>{n.value&&x()},{deep:!0}),(m,p)=>(f(),h("div",ms,[e("div",ps,[e("div",fs,[p[1]||(p[1]=e("h3",{class:"text-lg font-semibold text-gray-900"},"PDF Template Editor",-1)),s.template?(f(),h("span",gs,_(s.template.name),1)):z("",!0)]),e("div",vs,[e("div",hs,[p[3]||(p[3]=e("label",{class:"label text-sm"},"Add Field:",-1)),ue(e("select",{"onUpdate:modelValue":p[0]||(p[0]=D=>i.value=D),class:"input text-sm"},[...p[2]||(p[2]=[ce('<option value="" data-v-330b51ad>Select Type</option><option value="text" data-v-330b51ad>Text</option><option value="image" data-v-330b51ad>Image</option><option value="qrcode" data-v-330b51ad>QR Code</option><option value="barcode" data-v-330b51ad>Barcode</option>',5)])],512),[[De,i.value]])]),v(E,{variant:"secondary",size:"sm",onClick:P,disabled:!i.value},{default:b(()=>[...p[4]||(p[4]=[e("svg",{class:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})],-1),T(" Add Field ",-1)])]),_:1},8,["disabled"]),v(E,{variant:"primary",size:"sm",onClick:k,loading:d.value},{default:b(()=>[...p[5]||(p[5]=[T(" Save ",-1)])]),_:1},8,["loading"])])]),e("div",ys,[e("div",{ref_key:"pdfmeContainer",ref:u,class:"min-h-[700px] w-full bg-gray-50",style:{height:"700px",position:"relative"}},null,512),$.value?(f(),h("div",xs,[e("div",ws,[v(Z,{size:"lg"}),p[6]||(p[6]=e("p",{class:"mt-4 text-gray-600"},"Loading PDF editor...",-1))])])):z("",!0),g.value?(f(),h("div",bs,[e("div",_s,[p[8]||(p[8]=e("svg",{class:"mx-auto h-12 w-12 text-red-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.732-.833-2.5 0L4.232 15.5c-.77.833.192 2.5 1.732 2.5z"})],-1)),p[9]||(p[9]=e("h3",{class:"mt-4 text-lg font-medium text-gray-900"},"Failed to load editor",-1)),e("p",ks,_(g.value),1),v(E,{onClick:x,class:"mt-4"},{default:b(()=>[...p[7]||(p[7]=[T(" Retry ",-1)])]),_:1})])])):z("",!0)]),p[10]||(p[10]=ce('<div class="mt-4 p-4 bg-blue-50 border border-blue-200 rounded-lg" data-v-330b51ad><h4 class="text-sm font-medium text-blue-900 mb-2" data-v-330b51ad>How to use the PDF Editor:</h4><ul class="text-sm text-blue-700 space-y-1" data-v-330b51ad><li data-v-330b51ad>• <strong data-v-330b51ad>Add Fields:</strong> Select field type (Text, Image, QR Code, Barcode) and click &quot;Add Field&quot;</li><li data-v-330b51ad>• <strong data-v-330b51ad>Move Fields:</strong> Drag fields to reposition them on the PDF</li><li data-v-330b51ad>• <strong data-v-330b51ad>Resize Fields:</strong> Drag the corners to resize field boxes</li><li data-v-330b51ad>• <strong data-v-330b51ad>Edit Properties:</strong> Click on fields to edit content, styling, and options</li><li data-v-330b51ad>• <strong data-v-330b51ad>Delete Fields:</strong> Select field and press Delete key</li></ul></div>',1))]))}},Ds=xe($s,[["__scopeId","data-v-330b51ad"]]),Ps={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8"},Fs={class:"flex items-center justify-between mb-6"},Cs={class:"flex items-center space-x-4"},Ss={class:"text-2xl font-bold text-gray-900"},Ts={class:"flex items-center space-x-3"},zs={key:0,class:"text-center py-12"},Ms={key:1,class:"text-center py-12"},Es={class:"mt-2 text-gray-600"},Bs={key:2,class:"space-y-6"},Us={class:"p-4"},Is={class:"flex items-center justify-between"},js={class:"flex items-center space-x-4"},Ls={class:"text-lg font-medium text-gray-900"},As={class:"text-sm text-gray-500"},Vs={class:"text-right"},Ns={class:"text-sm text-gray-500"},Rs={class:"text-xs text-gray-400"},Gs={key:3,class:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50"},qs={class:"relative top-10 mx-auto p-5 border w-4/5 max-w-4xl shadow-lg rounded-md bg-white"},Os={class:"flex justify-between items-center mb-4"},Hs={class:"bg-gray-100 p-4 rounded-lg"},Ws={class:"bg-white p-4 rounded shadow-lg mx-auto"},Ks={class:"text-lg font-semibold mb-4"},Js={class:"border border-gray-300 rounded mb-4"},Ys=["src"],Qs={key:1,class:"p-4 text-center text-gray-500"},Xs={class:"mt-4"},Zs={class:"space-y-2"},eo={class:"font-medium"},to={class:"text-sm text-gray-600"},so={key:0,class:"text-center text-gray-500 p-2"},oo={class:"mt-4 text-center"},ao={__name:"TemplateEditor",setup(s){const o=je(),a=ae(),l=Ce(),u=oe(),n=S(!0),$=S(""),d=S(null),g=S(!1),i=async()=>{try{n.value=!0;const k=o.params.id,m=await l.getTemplate(k);d.value=m}catch(k){$.value=k.message}finally{n.value=!1}},r=async k=>{try{console.log("Saving template fields:",k),(!Array.isArray(k)||k.length===0)&&console.warn("No fields to save or invalid fields config"),await l.updateTemplateFields(d.value.id,{fields_config:k}),d.value.fields_config=k,d.value.fields_count=k.length,d.value.updated_at=new Date().toISOString(),u.success("Template saved!","Your template has been saved successfully")}catch(m){console.error("Error saving template:",m),u.error("Save failed",m.message)}},y=k=>{d.value&&(d.value.fields_config=k,d.value.fields_count=k.length)},x=()=>{if(!d.value||!d.value.fields_config||d.value.fields_config.length===0){u.warning("No fields defined","Please add fields to your template before previewing");return}console.log("Showing preview for template:",d.value.name,"with",d.value.fields_config.length,"fields"),g.value=!0},C=async()=>{try{if(g.value=!1,!d.value||!d.value.fields_config||d.value.fields_config.length===0){u.warning("No fields defined","Please add fields to your template before generating a PDF");return}const k={};d.value.fields_config.forEach(p=>{k[p.name]=`Sample ${p.name.replace(/_/g," ")}`}),console.log("Generating sample PDF with data:",k);const m={data:k,filename:`${d.value.name}-sample.pdf`};u.info("Generating PDF...","Please wait while your PDF is being generated");try{const p=await l.generatePdf(d.value.id,m);if(console.log("PDF generation result:",p),p)u.success("Sample PDF Generated!","Your sample PDF has been generated"),setTimeout(()=>{a.push("/generated")},1e3);else throw new Error("PDF generation returned no result")}catch(p){console.error("API error generating PDF:",p),u.error("PDF Generation Failed",p.message||"Error communicating with the server")}}catch(k){console.error("Error in generateSamplePdf:",k),u.error("Sample generation failed",k.message)}},P=k=>new Date(k).toLocaleDateString(),B=k=>{let m=k;return k.startsWith("/")&&(m=window.location.origin+k),`https://docs.google.com/viewer?url=${encodeURIComponent(m)}&embedded=true`};return le(()=>{i()}),(k,m)=>{const p=O("router-link");return f(),h("div",Ps,[e("div",Fs,[e("div",Cs,[v(p,{to:"/templates",class:"text-gray-400 hover:text-gray-600"},{default:b(()=>[...m[1]||(m[1]=[e("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 19l-7-7 7-7"})],-1)])]),_:1}),e("div",null,[e("h1",Ss,_(d.value?`Edit: ${d.value.name}`:"Template Editor"),1),m[2]||(m[2]=e("p",{class:"text-sm text-gray-600"}," Design your PDF template with drag-and-drop field placement ",-1))])]),e("div",Ts,[v(E,{variant:"secondary",onClick:x,disabled:!d.value},{default:b(()=>[...m[3]||(m[3]=[e("svg",{class:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})],-1),T(" Preview ",-1)])]),_:1},8,["disabled"])])]),n.value?(f(),h("div",zs,[v(Z,{size:"lg"}),m[4]||(m[4]=e("p",{class:"mt-4 text-gray-600"},"Loading template...",-1))])):$.value?(f(),h("div",Ms,[m[6]||(m[6]=e("svg",{class:"mx-auto h-12 w-12 text-red-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.732-.833-2.5 0L4.232 15.5c-.77.833.192 2.5 1.732 2.5z"})],-1)),m[7]||(m[7]=e("h3",{class:"mt-4 text-lg font-medium text-gray-900"},"Template not found",-1)),e("p",Es,_($.value),1),v(p,{to:"/templates",class:"mt-4 btn btn-primary"},{default:b(()=>[...m[5]||(m[5]=[T(" Back to Templates ",-1)])]),_:1})])):d.value?(f(),h("div",Bs,[v(V,null,{default:b(()=>[e("div",Us,[e("div",Is,[e("div",js,[m[8]||(m[8]=e("div",{class:"h-10 w-10 bg-red-100 rounded-lg flex items-center justify-center"},[e("svg",{class:"h-6 w-6 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})])],-1)),e("div",null,[e("h3",Ls,_(d.value.name),1),e("p",As,_(d.value.original_filename),1)])]),e("div",Vs,[e("p",Ns,_(d.value.fields_count)+" fields configured ",1),e("p",Rs," Last updated "+_(P(d.value.updated_at)),1)])])])]),_:1}),v(Ds,{template:d.value,onSave:r,onFieldUpdated:y},null,8,["template"])])):z("",!0),g.value?(f(),h("div",Gs,[e("div",qs,[e("div",Os,[m[10]||(m[10]=e("h3",{class:"text-lg font-medium text-gray-900"},"Template Preview",-1)),v(E,{variant:"secondary",onClick:m[0]||(m[0]=D=>g.value=!1)},{default:b(()=>[...m[9]||(m[9]=[T(" Close ",-1)])]),_:1})]),e("div",Hs,[e("div",Ws,[e("h4",Ks,_(d.value.name)+" - Preview",1),e("div",Js,[d.value&&d.value.pdf_url?(f(),h("iframe",{key:0,src:B(d.value.pdf_url),class:"w-full",style:{height:"500px"}},null,8,Ys)):(f(),h("div",Qs," PDF preview not available "))]),e("div",Xs,[m[11]||(m[11]=e("h5",{class:"font-medium mb-2"},"Fields:",-1)),e("div",Zs,[(f(!0),h(te,null,se(d.value.fields_config,D=>(f(),h("div",{key:D.name,class:"flex justify-between items-center p-2 bg-gray-50 rounded"},[e("span",eo,_(D.name.replace(/_/g," "))+":",1),e("span",to,_(D.type)+" field",1)]))),128)),!d.value.fields_config||d.value.fields_config.length===0?(f(),h("div",so," No fields defined yet ")):z("",!0)])]),e("div",oo,[v(E,{variant:"primary",size:"sm",onClick:C},{default:b(()=>[...m[12]||(m[12]=[T(" Generate Sample PDF ",-1)])]),_:1})])])])])])):z("",!0)])}}},lo={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8"},no={class:"flex justify-between items-center mb-8"},ro={class:"flex items-center space-x-3"},io={class:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8"},co={class:"p-4 text-center"},uo={class:"text-2xl font-bold text-primary-600"},mo={class:"p-4 text-center"},po={class:"text-2xl font-bold text-green-600"},fo={class:"p-4 text-center"},go={class:"text-2xl font-bold text-blue-600"},vo={class:"p-4 text-center"},ho={class:"text-2xl font-bold text-purple-600"},yo={class:"mb-6 flex flex-wrap items-center gap-4"},xo={class:"flex items-center space-x-2"},wo={class:"flex items-center space-x-2"},bo={key:0,class:"text-center py-12"},_o={key:1,class:"text-center py-12"},ko={key:2,class:"space-y-4"},$o={class:"flex items-center justify-between"},Do={class:"flex items-center space-x-4"},Po={class:"flex-shrink-0"},Fo={class:"flex-1"},Co={class:"text-lg font-medium text-gray-900"},So={class:"text-sm text-gray-500"},To={class:"flex items-center space-x-4 mt-1"},zo={class:"text-xs text-gray-500"},Mo={class:"text-xs text-gray-500"},Eo={class:"flex items-center space-x-2"},Bo={key:3,class:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50"},Uo={class:"relative top-20 mx-auto p-5 border w-96 max-w-2xl shadow-lg rounded-md bg-white"},Io={class:"flex justify-between items-center mb-4"},jo={key:0,class:"space-y-4"},Lo={class:"text-sm text-gray-900"},Ao={class:"text-sm text-gray-900"},Vo={class:"text-sm text-gray-900"},No={class:"text-sm text-gray-900"},Ro={key:0},Go={class:"bg-gray-50 p-3 rounded text-sm"},qo={key:1},Oo={class:"border border-gray-300 rounded"},Ho=["src"],Wo={class:"flex justify-end space-x-3 mt-4"},Ko={key:4,class:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50"},Jo={class:"relative top-20 mx-auto p-5 border w-96 max-w-lg shadow-lg rounded-md bg-white"},Yo={class:"flex justify-between items-center mb-4"},Qo={class:"space-y-4"},Xo={class:"grid grid-cols-2 gap-4"},Zo={class:"text-center p-4 bg-gray-50 rounded"},ea={class:"text-2xl font-bold text-gray-900"},ta={class:"text-center p-4 bg-green-50 rounded"},sa={class:"text-2xl font-bold text-green-600"},oa={class:"space-y-2"},aa={class:"flex justify-between"},la={class:"text-sm font-medium"},na={class:"flex justify-between"},ra={class:"text-sm font-medium"},ia={class:"flex justify-between"},da={class:"text-sm font-medium"},ca={__name:"GeneratedPdfs",setup(s){const o=oe(),a=S(!1),l=S(""),u=S(""),n=S(!1),$=S(!1),d=S(null),g=S([]),i=async()=>{a.value=!0;try{const w=await j.get("/generate");console.log("Fetched generated PDFs:",w.data),w.data&&w.data.generated_pdfs&&(g.value=w.data.generated_pdfs)}catch(w){console.error("Failed to fetch generated PDFs:",w),o.error("Failed to load PDFs",w.message)}finally{a.value=!1}},r=L(()=>{let w=[...g.value];if(l.value&&(w=w.filter(t=>t.status===l.value)),u.value){const t=u.value.toLowerCase();w=w.filter(c=>c.filename.toLowerCase().includes(t)||c.template_name.toLowerCase().includes(t))}return w.sort((t,c)=>new Date(c.created_at)-new Date(t.created_at))}),y=L(()=>g.value.filter(w=>w.status==="completed").length),x=L(()=>{const w=new Date().getMonth(),t=new Date().getFullYear();return g.value.filter(c=>{const F=new Date(c.created_at);return F.getMonth()===w&&F.getFullYear()===t}).length}),C=L(()=>{const w=g.value.filter(t=>t.status==="completed").reduce((t,c)=>{const F=c.file_size?parseInt(c.file_size.replace(/[^\d]/g,"")):0;return t+F},0);return w>1024?`${(w/1024).toFixed(1)} MB`:`${w} KB`}),P=L(()=>g.value.length===0?0:Math.round(y.value/g.value.length*100)),B=async()=>{try{await i(),o.success("Refreshed!","PDF list has been updated")}catch(w){o.error("Refresh failed",w.message)}},k=async w=>{try{if(!w.download_url)throw new Error("Download URL not available");o.info("Download started",`Downloading ${w.filename}...`),console.log("Attempting to download PDF from URL:",w.download_url);try{const t=await fetch(w.download_url);if(!t.ok)throw new Error(`Failed to fetch PDF: ${t.status} ${t.statusText}`);const c=await t.blob(),F=URL.createObjectURL(c),I=document.createElement("a");I.style.display="none",I.href=F,I.download=w.filename,document.body.appendChild(I),I.click(),setTimeout(()=>{document.body.removeChild(I),URL.revokeObjectURL(F),o.success("Download complete",`${w.filename} has been downloaded`)},100)}catch(t){console.error("Error fetching PDF:",t),window.open(w.download_url,"_blank"),o.info("Download initiated","PDF opened in a new tab. You may need to save it manually.")}}catch(t){console.error("Download failed:",t),o.error("Download failed",t.message)}},m=w=>{d.value=w,n.value=!0},p=w=>{if(w.download_url){console.log("Opening PDF in new tab:",w.download_url);let t=w.download_url;t.startsWith("/")&&(t=window.location.origin+t),window.open(t,"_blank")}else o.error("No Preview URL","This PDF does not have a preview URL available.")},D=async w=>{if(confirm(`Are you sure you want to delete "${w.filename}"?`))try{const t=g.value.findIndex(c=>c.id===w.id);t>-1&&(g.value.splice(t,1),o.success("PDF deleted","PDF has been deleted successfully"))}catch(t){o.error("Delete failed",t.message)}},U=w=>{const t={completed:"bg-green-100 text-green-600",processing:"bg-blue-100 text-blue-600",failed:"bg-red-100 text-red-600",pending:"bg-yellow-100 text-yellow-600"};return t[w]||t.pending},J=w=>{const t={completed:"bg-green-100 text-green-800",processing:"bg-blue-100 text-blue-800",failed:"bg-red-100 text-red-800",pending:"bg-yellow-100 text-yellow-800"};return t[w]||t.pending},H=w=>{const t={completed:{template:'<svg fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"></path></svg>'},processing:{template:'<svg fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm1-12a1 1 0 10-2 0v4a1 1 0 00.293.707l2.828 2.829a1 1 0 101.415-1.415L11 9.586V6z" clip-rule="evenodd"></path></svg>'},failed:{template:'<svg fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z" clip-rule="evenodd"></path></svg>'}};return t[w]||t.processing},Y=w=>new Date(w).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),me=w=>{let t=w;return w.startsWith("/")&&(t=window.location.origin+w),`https://docs.google.com/viewer?url=${encodeURIComponent(t)}&embedded=true`};return le(async()=>{await i(),setInterval(()=>{g.value.some(t=>t.status==="processing")&&i()},3e4)}),(w,t)=>{const c=O("router-link");return f(),h("div",lo,[e("div",no,[t[9]||(t[9]=e("div",null,[e("h1",{class:"text-2xl font-bold text-gray-900"},"Generated PDFs"),e("p",{class:"mt-1 text-sm text-gray-600"}," View, download, and manage your generated PDF documents ")],-1)),e("div",ro,[v(E,{onClick:t[0]||(t[0]=F=>$.value=!0),variant:"secondary"},{default:b(()=>[...t[7]||(t[7]=[e("svg",{class:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})],-1),T(" Statistics ",-1)])]),_:1}),v(c,{to:"/templates",class:"btn btn-primary"},{default:b(()=>[...t[8]||(t[8]=[e("svg",{class:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})],-1),T(" Generate New PDF ",-1)])]),_:1})])]),e("div",io,[v(V,null,{default:b(()=>[e("div",co,[e("div",uo,_(g.value.length),1),t[10]||(t[10]=e("div",{class:"text-sm text-gray-500"},"Total Generated",-1))])]),_:1}),v(V,null,{default:b(()=>[e("div",mo,[e("div",po,_(y.value),1),t[11]||(t[11]=e("div",{class:"text-sm text-gray-500"},"Completed",-1))])]),_:1}),v(V,null,{default:b(()=>[e("div",fo,[e("div",go,_(x.value),1),t[12]||(t[12]=e("div",{class:"text-sm text-gray-500"},"This Month",-1))])]),_:1}),v(V,null,{default:b(()=>[e("div",vo,[e("div",ho,_(C.value),1),t[13]||(t[13]=e("div",{class:"text-sm text-gray-500"},"Total Size",-1))])]),_:1})]),e("div",yo,[e("div",xo,[t[15]||(t[15]=e("label",{class:"label text-sm"},"Status:",-1)),ue(e("select",{"onUpdate:modelValue":t[1]||(t[1]=F=>l.value=F),class:"input text-sm"},[...t[14]||(t[14]=[e("option",{value:""},"All Status",-1),e("option",{value:"completed"},"Completed",-1),e("option",{value:"processing"},"Processing",-1),e("option",{value:"failed"},"Failed",-1)])],512),[[De,l.value]])]),e("div",wo,[t[16]||(t[16]=e("label",{class:"label text-sm"},"Search:",-1)),ue(e("input",{"onUpdate:modelValue":t[2]||(t[2]=F=>u.value=F),type:"text",placeholder:"Search by filename...",class:"input text-sm"},null,512),[[Le,u.value]])]),v(E,{variant:"secondary",size:"sm",onClick:B,loading:a.value},{default:b(()=>[...t[17]||(t[17]=[e("svg",{class:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})],-1),T(" Refresh ",-1)])]),_:1},8,["loading"])]),a.value?(f(),h("div",bo,[v(Z,{size:"lg"}),t[18]||(t[18]=e("p",{class:"mt-4 text-gray-600"},"Loading generated PDFs...",-1))])):r.value.length===0?(f(),h("div",_o,[t[20]||(t[20]=e("svg",{class:"mx-auto h-12 w-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})],-1)),t[21]||(t[21]=e("h3",{class:"mt-4 text-lg font-medium text-gray-900"},"No PDFs generated yet",-1)),t[22]||(t[22]=e("p",{class:"mt-2 text-gray-600"},"Start by generating your first PDF from a template",-1)),v(c,{to:"/templates",class:"mt-4 btn btn-primary"},{default:b(()=>[...t[19]||(t[19]=[T(" Generate PDF ",-1)])]),_:1})])):(f(),h("div",ko,[(f(!0),h(te,null,se(r.value,F=>(f(),h("div",{key:F.id,class:"bg-white rounded-lg shadow-sm border p-6 hover:shadow-md transition-shadow"},[e("div",$o,[e("div",Do,[e("div",Po,[e("div",{class:G([U(F.status),"h-10 w-10 rounded-full flex items-center justify-center"])},[(f(),q(Pe(H(F.status)),{class:"h-5 w-5"}))],2)]),e("div",Fo,[e("h3",Co,_(F.filename),1),e("p",So,"Template: "+_(F.template_name),1),e("div",To,[e("span",{class:G([J(F.status),"text-xs font-medium px-2 py-1 rounded-full"])},_(F.status.toUpperCase()),3),e("span",zo,_(F.file_size),1),e("span",Mo,_(Y(F.created_at)),1)])])]),e("div",Eo,[F.status==="completed"?(f(),q(E,{key:0,variant:"primary",size:"sm",onClick:I=>k(F)},{default:b(()=>[...t[23]||(t[23]=[e("svg",{class:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 10v6m0 0l-3-3m3 3l3-3M7 7h10a2 2 0 012 2v9a2 2 0 01-2 2H7a2 2 0 01-2-2V9a2 2 0 012-2z"})],-1),T(" Download ",-1)])]),_:1},8,["onClick"])):z("",!0),F.status==="completed"&&F.download_url?(f(),q(E,{key:1,variant:"secondary",size:"sm",onClick:I=>p(F)},{default:b(()=>[...t[24]||(t[24]=[e("svg",{class:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"})],-1),T(" View ",-1)])]),_:1},8,["onClick"])):z("",!0),v(E,{variant:"secondary",size:"sm",onClick:I=>m(F)},{default:b(()=>[...t[25]||(t[25]=[e("svg",{class:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})],-1),T(" Details ",-1)])]),_:1},8,["onClick"]),v(E,{variant:"danger",size:"sm",onClick:I=>D(F)},{default:b(()=>[...t[26]||(t[26]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1)])]),_:1},8,["onClick"])])])]))),128))])),n.value?(f(),h("div",Bo,[e("div",Uo,[e("div",Io,[t[28]||(t[28]=e("h3",{class:"text-lg font-medium text-gray-900"},"PDF Details",-1)),v(E,{variant:"secondary",onClick:t[3]||(t[3]=F=>n.value=!1)},{default:b(()=>[...t[27]||(t[27]=[T(" Close ",-1)])]),_:1})]),d.value?(f(),h("div",jo,[e("div",null,[t[29]||(t[29]=e("label",{class:"label"},"Filename",-1)),e("p",Lo,_(d.value.filename),1)]),e("div",null,[t[30]||(t[30]=e("label",{class:"label"},"Template",-1)),e("p",Ao,_(d.value.template_name),1)]),e("div",null,[t[31]||(t[31]=e("label",{class:"label"},"Status",-1)),e("span",{class:G([J(d.value.status),"text-xs font-medium px-2 py-1 rounded-full"])},_(d.value.status.toUpperCase()),3)]),e("div",null,[t[32]||(t[32]=e("label",{class:"label"},"File Size",-1)),e("p",Vo,_(d.value.file_size),1)]),e("div",null,[t[33]||(t[33]=e("label",{class:"label"},"Created",-1)),e("p",No,_(Y(d.value.created_at)),1)]),d.value.data_used?(f(),h("div",Ro,[t[34]||(t[34]=e("label",{class:"label"},"Data Used",-1)),e("div",Go,[e("pre",null,_(JSON.stringify(d.value.data_used,null,2)),1)])])):z("",!0),d.value.download_url?(f(),h("div",qo,[t[35]||(t[35]=e("label",{class:"label"},"Preview",-1)),e("div",Oo,[e("iframe",{src:me(d.value.download_url),class:"w-full",style:{height:"400px"}},null,8,Ho)])])):z("",!0),e("div",Wo,[d.value.status==="completed"&&d.value.download_url?(f(),q(E,{key:0,variant:"primary",size:"sm",onClick:t[4]||(t[4]=F=>k(d.value))},{default:b(()=>[...t[36]||(t[36]=[T(" Download PDF ",-1)])]),_:1})):z("",!0),d.value.status==="completed"&&d.value.download_url?(f(),q(E,{key:1,variant:"secondary",size:"sm",onClick:t[5]||(t[5]=F=>p(d.value))},{default:b(()=>[...t[37]||(t[37]=[T(" Open in New Tab ",-1)])]),_:1})):z("",!0)])])):z("",!0)])])):z("",!0),$.value?(f(),h("div",Ko,[e("div",Jo,[e("div",Yo,[t[39]||(t[39]=e("h3",{class:"text-lg font-medium text-gray-900"},"PDF Generation Statistics",-1)),v(E,{variant:"secondary",onClick:t[6]||(t[6]=F=>$.value=!1)},{default:b(()=>[...t[38]||(t[38]=[T(" Close ",-1)])]),_:1})]),e("div",Qo,[e("div",Xo,[e("div",Zo,[e("div",ea,_(g.value.length),1),t[40]||(t[40]=e("div",{class:"text-sm text-gray-500"},"Total Generated",-1))]),e("div",ta,[e("div",sa,_(y.value),1),t[41]||(t[41]=e("div",{class:"text-sm text-gray-500"},"Successful",-1))])]),e("div",oa,[e("div",aa,[t[42]||(t[42]=e("span",{class:"text-sm text-gray-600"},"Success Rate:",-1)),e("span",la,_(P.value)+"%",1)]),e("div",na,[t[43]||(t[43]=e("span",{class:"text-sm text-gray-600"},"Total Size:",-1)),e("span",ra,_(C.value),1)]),e("div",ia,[t[44]||(t[44]=e("span",{class:"text-sm text-gray-600"},"This Month:",-1)),e("span",da,_(x.value)+" PDFs",1)])])])])])):z("",!0)])}}},ua={class:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8"},ma={class:"max-w-md w-full text-center"},pa={class:"space-y-4"},fa={__name:"NotFound",setup(s){const o=ae(),a=()=>{o.go(-1)};return(l,u)=>{const n=O("router-link");return f(),h("div",ua,[e("div",ma,[u[3]||(u[3]=e("div",{class:"mb-8"},[e("h1",{class:"text-9xl font-bold text-primary-600"},"404"),e("h2",{class:"mt-4 text-2xl font-bold text-gray-900"},"Page not found"),e("p",{class:"mt-2 text-gray-600"}," Sorry, we couldn't find the page you're looking for. ")],-1)),e("div",pa,[v(E,{onClick:a,variant:"secondary"},{default:b(()=>[...u[0]||(u[0]=[T(" ← Go back ",-1)])]),_:1}),u[2]||(u[2]=e("br",null,null,-1)),v(n,{to:"/dashboard",class:"text-primary-600 hover:text-primary-500 font-medium"},{default:b(()=>[...u[1]||(u[1]=[T(" Go to dashboard ",-1)])]),_:1})])])])}}},ga=[{path:"/",redirect:"/dashboard"},{path:"/login",name:"login",component:pt,meta:{requiresGuest:!0,title:"Login"}},{path:"/register",name:"register",component:ht,meta:{requiresGuest:!0,title:"Register"}},{path:"/dashboard",name:"dashboard",component:Et,meta:{requiresAuth:!0,title:"Dashboard"}},{path:"/templates",name:"templates",component:us,meta:{requiresAuth:!0,title:"PDF Templates"}},{path:"/templates/:id/edit",name:"template-editor",component:ao,meta:{requiresAuth:!0,title:"Edit Template"}},{path:"/generated",name:"generated",component:ca,meta:{requiresAuth:!0,title:"Generated PDFs"}},{path:"/404",name:"not-found",component:fa,meta:{title:"Page Not Found"}},{path:"/:pathMatch(.*)*",redirect:"/404"}],Se=Ae({history:Ve(),routes:ga,scrollBehavior(s,o,a){return a||{top:0}}});Se.beforeEach(async(s,o,a)=>{const l=ye();if(document.title=s.meta.title?`${s.meta.title} - PDF Designer`:"PDF Designer",s.meta.requiresAuth&&!l.isAuthenticated)if(localStorage.getItem("auth_token"))try{await l.fetchUser()}catch{return localStorage.removeItem("auth_token"),a("/login")}else return a("/login");if(s.meta.requiresGuest&&l.isAuthenticated)return a("/dashboard");a()});const va={class:"fixed top-4 right-4 z-50 space-y-4"},ha={class:"flex"},ya={class:"flex-shrink-0"},xa={class:"ml-3 w-0 flex-1 pt-0.5"},wa={class:"text-sm font-medium text-gray-900"},ba={key:0,class:"mt-1 text-sm text-gray-500"},_a={class:"ml-4 flex-shrink-0 flex"},ka=["onClick"],$a={__name:"NotificationContainer",setup(s){const o={template:`<svg class="w-5 h-5 text-green-400" fill="currentColor" viewBox="0 0 20 20">
    <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd" />
  </svg>`},a={template:`<svg class="w-5 h-5 text-yellow-400" fill="currentColor" viewBox="0 0 20 20">
    <path fill-rule="evenodd" d="M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z" clip-rule="evenodd" />
  </svg>`},l={template:`<svg class="w-5 h-5 text-red-400" fill="currentColor" viewBox="0 0 20 20">
    <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z" clip-rule="evenodd" />
  </svg>`},u={template:`<svg class="w-5 h-5 text-blue-400" fill="currentColor" viewBox="0 0 20 20">
    <path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z" clip-rule="evenodd" />
  </svg>`},n={template:`<svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
  </svg>`},$=oe(),d=L(()=>$.notifications),g=y=>{const x="notification max-w-sm w-full",C={success:"notification-success",error:"notification-error",warning:"notification-warning",info:"notification-info"};return`${x} ${C[y.type]||C.info}`},i=y=>{const x={success:o,error:l,warning:a,info:u};return x[y]||x.info},r=y=>{$.remove(y)};return(y,x)=>(f(),h("div",va,[v(Ne,{name:"notification",tag:"div"},{default:b(()=>[(f(!0),h(te,null,se(d.value,C=>(f(),h("div",{key:C.id,class:G(g(C))},[e("div",ha,[e("div",ya,[(f(),q(Pe(i(C.type)),{class:"h-5 w-5"}))]),e("div",xa,[e("p",wa,_(C.title),1),C.message?(f(),h("p",ba,_(C.message),1)):z("",!0)]),e("div",_a,[e("button",{onClick:P=>r(C.id),class:"bg-white rounded-md inline-flex text-gray-400 hover:text-gray-500 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500"},[v(n,{class:"h-5 w-5"})],8,ka)])])],2))),128))]),_:1})]))}},Te=xe($a,[["__scopeId","data-v-f127081a"]]);const Da={id:"app",class:"min-h-screen bg-gray-50"},Pa={key:0,class:"bg-white shadow-sm border-b border-gray-200"},Fa={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"},Ca={class:"flex justify-between h-16"},Sa={class:"flex items-center"},Ta={class:"flex items-center space-x-4"},za={class:"relative"},Ma={class:"h-8 w-8 rounded-full bg-primary-600 flex items-center justify-center"},Ea={class:"text-sm font-medium text-white"},Ba={class:"px-4 py-2 text-sm text-gray-700 border-b border-gray-100"},Ua={class:"font-medium"},Ia={class:"text-gray-500"},ja={class:"flex-1"},La={__name:"App",setup(s){const o=ae(),a=ye(),l=S(!1),u=L(()=>[{name:"dashboard",label:"Dashboard",to:"/dashboard"},{name:"templates",label:"Templates",to:"/templates"},{name:"generated",label:"Generated PDFs",to:"/generated"}]),n=async()=>{try{await a.logout(),o.push("/login")}catch(g){console.error("Logout failed:",g)}},$={beforeMount(g,i){g.clickOutsideEvent=function(r){g===r.target||g.contains(r.target)||i.value(r,g)},document.body.addEventListener("click",g.clickOutsideEvent)},unmounted(g){document.body.removeEventListener("click",g.clickOutsideEvent)}};return Fe({}).directive("click-away",$),(g,i)=>{var x,C,P,B;const r=O("router-link"),y=O("router-view");return f(),h("div",Da,[ne(a).isAuthenticated?(f(),h("nav",Pa,[e("div",Fa,[e("div",Ca,[e("div",Sa,[v(r,{to:"/dashboard",class:"flex items-center"},{default:b(()=>[...i[2]||(i[2]=[e("svg",{class:"h-8 w-8 text-primary-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})],-1),e("span",{class:"ml-2 text-xl font-bold text-gray-900"},"PDF Designer",-1)])]),_:1})]),e("div",Ta,[(f(!0),h(te,null,se(u.value,k=>(f(),q(r,{key:k.name,to:k.to,class:G(["text-gray-500 hover:text-gray-700 px-3 py-2 rounded-md text-sm font-medium transition-colors duration-200",{"text-primary-600 bg-primary-50":g.$route.name===k.name}])},{default:b(()=>[T(_(k.label),1)]),_:2},1032,["to","class"]))),128)),e("div",za,[e("button",{onClick:i[0]||(i[0]=k=>l.value=!l.value),class:"flex items-center text-sm rounded-full focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500"},[e("div",Ma,[e("span",Ea,_((C=(x=ne(a).user)==null?void 0:x.name)==null?void 0:C.charAt(0).toUpperCase()),1)])]),l.value?(f(),h("div",{key:0,onClick:i[1]||(i[1]=k=>l.value=!1),class:"absolute right-0 mt-2 w-48 bg-white rounded-md shadow-lg py-1 z-50"},[e("div",Ba,[e("div",Ua,_((P=ne(a).user)==null?void 0:P.name),1),e("div",Ia,_((B=ne(a).user)==null?void 0:B.email),1)]),e("button",{onClick:n,class:"block w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-100"}," Sign out ")])):z("",!0)])])])])])):z("",!0),e("main",ja,[v(y)]),v(Te)])}}},Aa=xe(La,[["__scopeId","data-v-6010e495"]]);const K=Fe(Aa),Va=Re();K.component("BaseButton",E);K.component("BaseInput",X);K.component("BaseCard",V);K.component("LoadingSpinner",Z);K.component("NotificationContainer",Te);K.use(Va);K.use(Se);K.mount("#app");
